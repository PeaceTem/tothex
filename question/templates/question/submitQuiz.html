

{% extends 'base.html' %}

{% load static %}
{% load social_share %}
{% block title %}
Quiz Generator Submit
{% endblock title %}

{% block content %}

{% block css %}
{% include 'mathjax.html' %}

<link rel="stylesheet" href="{% static 'quiz/css/rsubmitQuiz.css' %}?{{static_request}}">
{% endblock css %}
{% if not user.is_authenticated %}
{% include 'core/authenticate.html' %}
{% endif %}
<div style="display: block;border-bottom: 1px solid #ccc;height: 50px;box-shadow: 0 1px 4px #ccc;position: sticky;top: 0;left: 0;background: #fff;z-index: 1000;border-bottom-left-radius: 4px;border-bottom-right-radius: 4px;">
    <div style="padding-right: 6px;">
        <a style="margin-right: 7px;color: black;text-decoration: none;font-size: 40px;padding-right: 4px;"
        href="{% url 'question:questions' %}" 
        alt="NeuGott back button">
            ‚Üê
        </a>
        <span style="color: #a83425;font-weight:600; font-size:30px;font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">
            NeuGott
        </span>
  
    </div>
</div>



{% include 'messages.html'%}

<div class="question-card-container">
    <div>
        <a href="{% url 'question:quiz-generator' %}">Go back home</a>

    </div>
    
    <div>
        {{attempt_report}}
        <br>
        You scored: {{user_score}}/{{total_score}}
        <br>
        Your Average Score: {{user_avg_score}}%
    </div>
</div>


<div class="question-card-container download-quiz">

    <ol>
        
        {% for question, answer in questionsList %}
        <div class="question-box">
            <div class="indicator"></div>
            {% if question.form == 'fourChoicesQuestion' %}
        <li class="question">


            <div>
                <div class="q-box">
                    <p>
                    {{question.question|safe}}
                    </p>
                </div>
                   {% include 'question/imgBx.html' %}
                    <div class="points">
                        {% if question.points < 2 %}
                        {{question.points}} point
                    {% else %}
                        {{question.points}} points
                    {% endif %}
                    </div>
                    <ol class="answers">
                        {% if question.correct == 'answer1' %}
                        <li class="answerGreen">
                            <div class="answer">
                                {{question.answer1}}
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer1}}</div>
                        </li>
                        {% elif answer == question.answer1 %}
                        
                        <li class="answerRed">
                            <div class="answer">
                                {{question.answer1}}
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer1}}</div>
                        </li>

                        {% else %}

                        <li class="answerWhite">
                            <div class="answer">
                                {{question.answer1}} 
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer1}}</div>
                        </li>

                        {% endif %}






                        {% if question.correct == 'answer2' %}
                        <li class="answerGreen">
                            <div class="answer">
                                {{question.answer2}} 
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer2}}</div>
                        </li>
                        {% elif answer == question.answer2 %}
                        
                        <li class="answerRed">
                            <div class="answer">
                                {{question.answer2}} 
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer2}}</div>
                        </li>

                        {% else %}

                        <li class="answerWhite">
                            <div class="answer">
                                {{question.answer2}} 
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer2}}</div>
                        </li>

                        {% endif %}






                        {% if question.correct == 'answer3' %}
                        <li class="answerGreen">
                            <div class="answer">
                                {{question.answer3}}
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer3}}</div>
                        </li>
                        {% elif answer == question.answer3 %}
                        
                        <li class="answerRed">
                            <div class="answer">
                                {{question.answer3}} 
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer3}}</div>
                        </li>

                        {% else %}

                        <li class="answerWhite">
                            <div class="answer">
                                {{question.answer3}} 
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer3}}</div>
                        </li>

                        {% endif %}






                        {% if question.correct == 'answer4' %}
                        <li class="answerGreen">
                            <div class="answer">
                                {{question.answer4}}
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer4}}</div>
                        </li>
                        {% elif answer == question.answer4 %}
                        
                        <li class="answerRed">
                            <div class="answer">
                                {{question.answer4}}
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer4}}</div>
                        </li>

                        {% else %}

                        <li class="answerWhite">
                            <div class="answer">
                                {{question.answer4}}
                            </div>
                            <div class="percentage">{{question.get_percentage_chosen_of_answer4}}</div>
                        </li>

                        {% endif %}

                        
                        
                    </ol>
                    <div class="solution">
                         <div class="q-box">
                        <p>
                            Solution: {{question.solution|safe}}
                        </p>
                        {% include 'question/solutionImgBx.html' %}

                    </div>
                        
                    </div>
               
            </div>
        </li>
            {% elif question.form == 'trueOrFalseQuestion' %}
            <li class="question">


                <div>
                    <div class="q-box">
                        <p>
                        {{question.question|safe}}
                        </p>
                    </div>
                   {% include 'question/imgBx.html' %}
                        
                        <div class="points">
                            {% if question.points < 2 %}
                            {{question.points}} point
                        {% else %}
                            {{question.points}} points
                        {% endif %}
                        </div>
                        <ol class="answers">
                            {% if question.correct == 'True' %}
                            <li class="answerGreen">
                                <div class="answer">
                                    {{question.answer1}} 
                                </div>
                                <div class="percentage">{{question.get_percentage_chosen_of_answer1}}</div>
                            </li>
                            {% elif answer == question.answer1 %}
                            
                            <li class="answerRed">
                                <div class="answer">
                                    {{question.answer1}}
                                </div>
                                <div class="percentage">{{question.get_percentage_chosen_of_answer1}}</div>
                            </li>
    
                            {% else %}
    
                            <li class="answerWhite">
                                <div class="answer">
                                    {{question.answer1}}
                                </div>
                                <div class="percentage">{{question.get_percentage_chosen_of_answer1}}</div>
                            </li>
    
                            {% endif %}
    
    
    
    
    
    
                            {% if question.correct == 'False' %}
                            <li class="answerGreen">
                                <div class="answer">
                                    {{question.answer2}} 
                                </div>
                                <div class="percentage">{{question.get_percentage_chosen_of_answer2}}</div>
                            </li>
                            {% elif answer == question.answer2 %}
                            
                            <li class="answerRed">
                                <div class="answer">
                                    {{question.answer2}}
                                </div>
                                <div class="percentage">{{question.get_percentage_chosen_of_answer2}}</div>
                            </li>
    
                            {% else %}
    
                            <li class="answerWhite">
                                <div class="answer">
                                    {{question.answer2}} 
                                </div>
                                <div class="percentage">{{question.get_percentage_chosen_of_answer2}}</div>
                            </li>
    
                            {% endif %}
    
                         
                        
                        </ol>
                        <div class="solution">
                            <div class="q-box">
                                <p>
                                    Solution:<br>{{question.solution|safe}}
                                </p>
                            </div>
                           {% include 'question/solutionImgBx.html' %}

                        </div>
                   
                </div>
            </li>
            {% endif %}
        </div>

        {% endfor %}
</div>
</ol>

<div class="question-card-container">

{% if type == 'reAttempt' %}
    <div>
        Re-take the Quiz
        <form action="{% url 'question:retake-quiz' %}" method="post">
            {% csrf_token %}
            <input type="hidden" name="reAttempt" value="{{reAttempt}}">
            <input type="submit" value="Yes">
            
        </form>
    </div>
    {% elif type == 'pastQuestions' %}
    <div>
        <a href="{% url 'question:past-questions' %}">Answer More</a>
        
    </div>
{% endif %}
<div class="social-share">
    <i style="font-size:11px;">
        Refer To Earn More Coins (20 coins per click)

    </i>
    <div>
        <a id="shareButton" href="#">Share to Social Media</a>
    </div>

</div>
{% include 'ads/adSection.html' %}

</div>
<div></div>
{% include 'jquery.html' %}
{% include 'loading.html' %}
<script src="{% static 'js/fullscreenImage.js' %}"></script>

<script>

    const shareButton = document.querySelector('a#shareButton');
    const title = window.document.title;
    const url = window.document.location.href;
    shareButton.addEventListener('click', (e) => {
        e.preventDefault();
        if(navigator.share){
            navigator.share({
                title: `${title}`,
                url : `${url}`
            }).catch(console.error);
        }else{
            alert('Use a default share button');
        }
    });
    
</script>
<!-- 
<script>
    const yourAnswer = document.getElementsByClassName('yourAnswer')
    const correctAnswer = document.getElementsByClassName('correctAnswer')
    const indicators = document.getElementsByClassName('indicator')
    for(let i = 0; i < yourAnswer.length; i++){
        console.log(yourAnswer[i].innerText)
        console.log(correctAnswer[i].innerText)
        if(yourAnswer[i].innerText  == correctAnswer[i].innerText){
            indicators[i].style.backgroundColor =  'green';
            console.log('correct!');
        }else{
            indicators[i].style.backgroundColor =  'red';
            console.log('wrong!');
        }
    }


</script> -->

{% endblock content %}
